(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{143:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(22),i=a.n(l),s=(a(35),a(82),a(30)),u=a(27),c=a(6),o=a(7),h=a(9),m=a(8),d=a(10),p=a(24),b=a.n(p),g=a(31),f=a.n(g),E=a(13),v=a.n(E),j="https://dougmaxi-airlines.herokuapp.com/users.json",O=function(e){function t(){var e;Object(c.a)(this,t),(e=Object(h.a)(this,Object(m.a)(t).call(this))).state={users:[]};return v.a.get(j).then(function(t){e.setState({users:t.data})}),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(b.a,{bg:"dark",variant:"dark"},r.a.createElement("h2",{href:"#/"},"Login Page"),r.a.createElement(f.a,{title:"Change User",id:"collasible-nav-dropdown"},this.state.users.map(function(e){return r.a.createElement(f.a.Item,{href:"#/".concat(e.name),users:e.name},e.name," ")})))}}]),t}(n.Component),_=a(34),k=a.n(_),y=function(e){function t(){return Object(c.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"loginBackground"},r.a.createElement(O,null),r.a.createElement("img",{src:k.a,alt:"Burning Airlines"}),r.a.createElement("img",{src:k.a,alt:"Burning Airlines"}),r.a.createElement("img",{src:k.a,alt:"Burning Airlines"}),r.a.createElement("img",{src:k.a,alt:"Burning Airlines"}))}}]),t}(n.Component),w=a(4),C=a(29),S=a.n(C),F="https://dougmaxi-airlines.herokuapp.com/users.json",A=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).state={users:[]};return v.a.get(F).then(function(e){if(a.setState({users:e.data}),a.props.checkAdmin){var t=[];e.data.forEach(function(e){e.admin&&t.push(e.name)}),-1===t.indexOf(a.props.user)?a.props.checkAdmin(!1):a.props.checkAdmin(!0)}}),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(b.a,{bg:"dark",variant:"dark"},r.a.createElement("h2",{href:"#/"},"Burning Airlines"),r.a.createElement(b.a,{className:"mr-auto"},r.a.createElement(S.a,{href:"#/".concat(this.props.user,"/Search")},"Search"),r.a.createElement(S.a,{href:"#/".concat(this.props.user,"/Airplanes")},"Airplanes"),r.a.createElement(S.a,{href:"#/".concat(this.props.user,"/Flights")},"Flights")),r.a.createElement("h3",{className:"username"},this.props.user),r.a.createElement(f.a,{title:"Change User",id:"collasible-nav-dropdown"},this.state.users.map(function(e){return r.a.createElement(f.a.Item,{key:e.id,href:"#/".concat(e.name),users:e.name},e.name," ")})))}}]),t}(n.Component),D=a(39),x=a.n(D),N=a(26),B=a.n(N),P=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=a.handleSubmit.bind(Object(w.a)(a)),a._handleOriginChange=a._handleOriginChange.bind(Object(w.a)(a)),a._handleDestinationChange=a._handleDestinationChange.bind(Object(w.a)(a)),a.state={user:a.props.match.params.user,origin:"",destination:"",flights:[]},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"fetchFlights",value:function(){var e=this;v.a.get("".concat("https://dougmaxi-airlines.herokuapp.com/flights.json","?origin=").concat(this.state.origin,"&destination=").concat(this.state.destination)).then(function(t){e.setState({flights:t.data}),console.log(t)})}},{key:"_handleOriginChange",value:function(e){this.setState({origin:e.target.value})}},{key:"_handleDestinationChange",value:function(e){this.setState({destination:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.fetchFlights()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(A,{user:this.state.user}),r.a.createElement("br",null),r.a.createElement("h3",null,r.a.createElement("img",{className:"thumb",src:B.a,alt:"Burning Airlines"}),"\xa0Flight Search"),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,"\xa0Origin:\xa0\xa0",r.a.createElement("input",{onInput:this._handleOriginChange})),r.a.createElement("label",null,"\xa0Destination:\xa0\xa0",r.a.createElement("input",{onInput:this._handleDestinationChange})),r.a.createElement("input",{type:"submit",value:"Search"})),r.a.createElement("br",null),r.a.createElement(R,{user:this.props.match.params.user,flights:this.state.flights}))}}]),t}(n.Component),R=function(e){function t(){return Object(c.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(x.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Flight"),r.a.createElement("th",null,"From > To"),r.a.createElement("th",null,"Plane"),r.a.createElement("th",null,"Seats"))),r.a.createElement("tbody",null,this.props.flights.map(function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.date),r.a.createElement("td",null,r.a.createElement(s.b,{to:"/".concat(e.props.user,"/Flight/").concat(t.flight_number)},t.flight_number)),r.a.createElement("td",null,t.origin," > ",t.destination),r.a.createElement("td",null,t.plane_model),r.a.createElement("td",null,t.rows*t.columns))})))}}]),t}(n.Component),T=P,q=a(41),G=a.n(q),I=a(40),M=a.n(I),L=a(33),z=a.n(L),H=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).state={rows:1,columns:1,user:a.props.match.params.user,admin:!1},a.updateRows=a.updateRows.bind(Object(w.a)(a)),a.updateColumns=a.updateColumns.bind(Object(w.a)(a)),a.isAdmin=a.isAdmin.bind(Object(w.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"isAdmin",value:function(e){e&&this.setState({admin:!0})}},{key:"updateRows",value:function(e){this.setState({rows:e})}},{key:"updateColumns",value:function(e){this.setState({columns:e})}},{key:"render",value:function(){return this.state.admin?r.a.createElement("div",null,r.a.createElement(A,{user:this.state.user,checkAdmin:this.isAdmin}),r.a.createElement("br",null),r.a.createElement(J,{onRowChange:this.updateRows,onColumnChange:this.updateColumns}),r.a.createElement("h3",null),r.a.createElement(U,{rows:this.state.rows,columns:this.state.columns})):r.a.createElement("div",null,r.a.createElement(A,{user:this.state.user,checkAdmin:this.isAdmin}),r.a.createElement("br",null),r.a.createElement("h3",null,"You are not an admin. You can't make a plane."))}}]),t}(n.Component),J=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(h.a)(this,Object(m.a)(t).call(this))).state={plane_model:"",rows:1,columns:1},e._handleSubmit=e._handleSubmit.bind(Object(w.a)(e)),e._handleModel=e._handleModel.bind(Object(w.a)(e)),e._handleRow=e._handleRow.bind(Object(w.a)(e)),e._handleColumn=e._handleColumn.bind(Object(w.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"_handleSubmit",value:function(e){e.preventDefault();var t={plane_model:this.state.plane_model,rows:this.state.rows,columns:this.state.columns};v.a.post("https://dougmaxi-airlines.herokuapp.com/airplanes.json",t),this.setState({plane_model:"",rows:1,columns:1}),this.props.onRowChange(1),this.props.onColumnChange(1)}},{key:"_handleRow",value:function(e){this.setState({rows:e.target.value}),this.props.onRowChange(e.target.value)}},{key:"_handleColumn",value:function(e){var t=0;t=e.target.value>=8?8:e.target.value<1?1:e.target.value,this.setState({columns:t}),this.props.onColumnChange(t)}},{key:"_handleModel",value:function(e){this.setState({plane_model:e.target.value})}},{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this._handleSubmit},r.a.createElement("h3",null,r.a.createElement("img",{className:"thumb",src:B.a,alt:"Burning Airlines"}),"\xa0Add Plane To Database"),r.a.createElement("br",null),r.a.createElement("label",null,"\xa0Plane Model:\xa0\xa0"),r.a.createElement("input",{type:"text",onChange:this._handleModel,value:this.state.plane_model,required:!0}),r.a.createElement("label",null,"\xa0Rows:\xa0\xa0"),r.a.createElement("input",{type:"number",min:"1",max:"1000",onChange:this._handleRow,value:this.state.rows,required:!0}),r.a.createElement("label",null,"\xa0Columns:\xa0\xa0"),r.a.createElement("input",{type:"number",min:"1",max:"8",onChange:this._handleColumn,value:this.state.columns,required:!0}),r.a.createElement("input",{type:"submit",value:"Create"}))}}]),t}(n.Component),U=function(e){function t(){return Object(c.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"createGrid",value:function(){for(var e=[],t=["A","B","C","D","E","F","G","H"],a=0;a<this.props.columns;a++){for(var n=[],l=1;l<=this.props.rows;l++)l<14?n.push(r.a.createElement(z.a,{className:"chairDemo"},t[a]," ",l)):l==this.props.rows?n.push(r.a.createElement(z.a,{className:"chairDemo"},t[a]," ",l)):14===l&&n.push(r.a.createElement(z.a,{className:"chairDemo"},t[a]," ..."));e.push(r.a.createElement(M.a,null,n))}return e}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement(G.a,null,this.createGrid()))}}]),t}(n.Component),W=H,Y="https://dougmaxi-airlines.herokuapp.com/flights.json",$="https://dougmaxi-airlines.herokuapp.com/airplanes.json",K=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).state={flights:[],planes:[],user:a.props.match.params.user};return v.a.get($).then(function(e){a.setState({planes:e.data})}),function e(){v.a.get(Y).then(function(t){a.setState({flights:t.data}),setTimeout(e,4e3)})}(),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(A,{user:this.state.user}),r.a.createElement("br",null),r.a.createElement("h3",null,r.a.createElement("img",{className:"thumb",src:B.a,alt:"Burning Airlines"}),"\xa0Create Flights"),r.a.createElement("br",null),r.a.createElement(Q,{planes:this.state.planes}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h3",null,r.a.createElement("img",{className:"thumb",src:B.a,alt:"Burning Airlines"}),"Flights"),r.a.createElement("br",null),r.a.createElement(V,{flights:this.state.flights,user:this.state.user}))}}]),t}(n.Component),Q=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).state={flight_number:"",origin:"",destination:"",date:Date.now,airplane_id:0},a._handleSubmit=a._handleSubmit.bind(Object(w.a)(a)),a._handleFlightNumber=a._handleFlightNumber.bind(Object(w.a)(a)),a._handleDate=a._handleDate.bind(Object(w.a)(a)),a._handleFrom=a._handleFrom.bind(Object(w.a)(a)),a._handleTo=a._handleTo.bind(Object(w.a)(a)),a._handlePlane=a._handlePlane.bind(Object(w.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"_handleSubmit",value:function(e){if(e.preventDefault(),"0"!==this.state.airplane_id){var t={flight_number:this.state.flight_number,origin:this.state.origin,destination:this.state.destination,date:this.state.date,airplane_id:this.state.airplane_id};v.a.post(Y,t),this.setState({flight_number:"",origin:"",destination:"",date:Date.now,airplane_id:0})}}},{key:"_handleFlightNumber",value:function(e){this.setState({flight_number:e.target.value})}},{key:"_handleDate",value:function(e){this.setState({date:e.target.value})}},{key:"_handleFrom",value:function(e){this.setState({origin:e.target.value})}},{key:"_handleTo",value:function(e){this.setState({destination:e.target.value})}},{key:"_handlePlane",value:function(e){this.setState({airplane_id:e.target.value})}},{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this._handleSubmit},r.a.createElement("label",null,"\xa0Flight Number:\xa0"),r.a.createElement("input",{type:"text",onChange:this._handleFlightNumber,value:this.state.flight_number,required:!0}),r.a.createElement("label",null,"\xa0Date:\xa0"),r.a.createElement("input",{type:"date",onChange:this._handleDate,value:this.state.date,required:!0}),r.a.createElement("label",null,"\xa0Origin:\xa0"),r.a.createElement("input",{type:"text",onChange:this._handleFrom,value:this.state.origin,required:!0}),r.a.createElement("label",null,"\xa0Destination:\xa0"),r.a.createElement("input",{type:"text",onChange:this._handleTo,value:this.state.destination,required:!0}),r.a.createElement("label",null,"\xa0Plane:\xa0"),r.a.createElement("select",{onChange:this._handlePlane,value:this.state.plane_model,required:!0},r.a.createElement("option",{key:"0",value:"0"},"Please Select a Plane "),this.props.planes.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.plane_model)})),r.a.createElement("input",{className:"submit",type:"submit",value:"Create"}))}}]),t}(n.Component),V=function(e){function t(){return Object(c.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(x.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Flight"),r.a.createElement("th",null,"From > To"),r.a.createElement("th",null,"Plane"),r.a.createElement("th",null,"Seats"))),r.a.createElement("tbody",null,this.props.flights.map(function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.date),r.a.createElement("td",null,r.a.createElement(s.b,{to:"/".concat(e.props.user,"/Flight/").concat(t.flight_number)},t.flight_number)),r.a.createElement("td",null,t.origin," > ",t.destination),r.a.createElement("td",null,t.plane_model),r.a.createElement("td",null,t.rows*t.columns))})))}}]),t}(n.Component),X=K,Z=a(25),ee=a.n(Z),te="https://dougmaxi-airlines.herokuapp.com/flights.json",ae="https://dougmaxi-airlines.herokuapp.com/users.json",ne=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).state={user:a.props.match.params.user,flight:{},flight_number:a.props.match.params.flight,counter:0};return function e(){v.a.get(te).then(function(t){t.data.forEach(function(e){e.flight_number==a.state.flight_number&&a.setState({flight:e,counter:a.state.counter+1})}),setTimeout(e,500)})}(),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(A,{user:this.state.user}),r.a.createElement("br",null),r.a.createElement("h3",null,this.state.flight_number),r.a.createElement("h5",null,this.state.flight.date," \xa0\xa0\xa0 ",this.state.flight.origin," > ",this.state.flight.destination," \xa0\xa0\xa0 ",this.state.flight.plane_model),r.a.createElement(re,{user:this.state.user,rows:this.state.flight.rows,flightid:this.state.flight.id,columns:this.state.flight.columns,res:this.state.flight.reservation,counter:this.state.counter}))}}]),t}(n.Component),re=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).state={reservations:[],user_id:-1},v.a.get(ae).then(function(e){e.data.some(function(e){return e.name===a.props.user&&(a.setState({user_id:e.id}),!0)})}),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"createGrid",value:function(){for(var e=this,t=[],a=function(a){for(var n=[],l=function(t){var l=!1;e.props.res.some(function(i){return i.row===a&&i.column===t+1&&(n.push(r.a.createElement(le,{flightid:e.props.flightid,user:e.props.user,key:t,row:a,column:t+1,owner:i.name,userid:e.state.user_id,deleteid:i.id})),l=!0,!0)}),l||n.push(r.a.createElement(le,{flightid:e.props.flightid,user:e.props.user,key:t,row:a,column:t+1,owner:"null",userid:e.state.user_id,deleteid:"-1"}))},i=0;i<e.props.columns;i++)l(i);t.push(r.a.createElement(M.a,{key:a},n))},n=1;n<=this.props.rows;n++)a(n);return t}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(G.a,null,this.createGrid()))}}]),t}(n.Component),le=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).state={row:a.props.row,column:a.props.column,deleteid:a.props.deleteid},a._selectSeat=a._selectSeat.bind(Object(w.a)(a)),a._deselectSeat=a._deselectSeat.bind(Object(w.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"_selectSeat",value:function(){var e=this,t={row:this.state.row,column:this.state.column,user_id:this.props.userid,flight_id:this.props.flightid};v.a.post("https://dougmaxi-airlines.herokuapp.com/reservations.json",t).then(function(t){e.setState({owner:e.props.user,deleteid:t.data.id})})}},{key:"_deselectSeat",value:function(){var e=this;v.a.delete("https://dougmaxi-airlines.herokuapp.com/reservations/".concat(this.state.deleteid,".json")).then(function(t){console.log(t),e.setState({owner:"null",deleteid:-1})})}},{key:"getLetter",value:function(e){return["A","B","C","D","E","F","G","H"][e-1]}},{key:"buttonCheck",value:function(){return"null"===this.props.owner?r.a.createElement(ee.a,{className:"chairButton",onClick:this._selectSeat,variant:"primary"},this.getLetter(this.state.column)," ",this.state.row):this.props.owner===this.props.user?r.a.createElement(ee.a,{className:"chairButton",onClick:this._deselectSeat,variant:"success"},this.props.owner):r.a.createElement(ee.a,{className:"chairButton",variant:"danger"},this.props.owner)}},{key:"render",value:function(){return r.a.createElement("div",null,this.buttonCheck())}}]),t}(n.Component),ie=ne,se=r.a.createElement(s.a,null,r.a.createElement("div",null,r.a.createElement(u.b,{exact:!0,path:"/",component:y}),r.a.createElement(u.d,null,r.a.createElement(u.b,{path:"/:user/Airplanes",component:W}),r.a.createElement(u.b,{path:"/:user/Flights",component:X}),r.a.createElement(u.b,{path:"/:user/Flight/:flight",component:ie}),r.a.createElement(u.b,{path:"/:user/Search",component:T}),r.a.createElement(u.a,{from:"/:user",to:"/:user/Search"}))));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(se,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},26:function(e,t,a){e.exports=a.p+"static/media/airplane-crash.0cc8340d.jpg"},34:function(e,t,a){e.exports=a.p+"static/media/burning-airlines.3961dd0a.gif"},35:function(e,t,a){},77:function(e,t,a){e.exports=a(143)},82:function(e,t,a){}},[[77,1,2]]]);
//# sourceMappingURL=main.840165eb.chunk.js.map