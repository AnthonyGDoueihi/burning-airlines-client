(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{141:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(22),i=a.n(l),s=(a(48),a(80),a(29)),u=a(26),o=a(5),c=a(6),h=a(8),m=a(7),d=a(9),p=a(24),b=a.n(p),f=a(30),E=a.n(f),g=a(13),v=a.n(g),j="https://dougmaxi-airlines.herokuapp.com/users.json",O=function(e){function t(){var e;Object(o.a)(this,t),(e=Object(h.a)(this,Object(m.a)(t).call(this))).state={users:[]};return v.a.get(j).then(function(t){e.setState({users:t.data})}),e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(b.a,{bg:"dark",variant:"dark"},r.a.createElement("h3",{href:"#"},"Login Page"),r.a.createElement(E.a,{title:"Change User",id:"collasible-nav-dropdown"},this.state.users.map(function(e){return r.a.createElement(E.a.Item,{href:"#/".concat(e.name),users:e.name},e.name," ")})))}}]),t}(n.Component),_=function(e){function t(){return Object(o.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"loginBackground"},r.a.createElement(O,null))}}]),t}(n.Component),k=a(36),w=a.n(k),y=a(28),C=a.n(y),S="https://dougmaxi-airlines.herokuapp.com/users.json",F=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).state={users:[]};return v.a.get(S).then(function(e){if(a.setState({users:e.data}),a.props.checkAdmin){var t=[];e.data.forEach(function(e){e.admin&&t.push(e.name)}),-1===t.indexOf(a.props.user)?a.props.checkAdmin(!1):a.props.checkAdmin(!0)}}),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(b.a,{bg:"dark",variant:"dark"},r.a.createElement(w.a,{href:"#"},"Burning Airlines"),r.a.createElement(b.a,{className:"mr-auto"},r.a.createElement(C.a,{href:"#/".concat(this.props.user,"/Search")},"Search"),r.a.createElement(C.a,{href:"#/".concat(this.props.user,"/Airplanes")},"Airplanes"),r.a.createElement(C.a,{href:"#/".concat(this.props.user,"/Flights")},"Flights")),r.a.createElement("h3",{className:"username"},this.props.user),r.a.createElement(E.a,{title:"Change User",id:"collasible-nav-dropdown"},this.state.users.map(function(e){return r.a.createElement(E.a.Item,{key:e.id,href:"#/".concat(e.name),users:e.name},e.name," ")})))}}]),t}(n.Component),x=a(37),D=a.n(x),A=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).state={user:a.props.match.params.user,origin:"",destination:"",flights:[]};return a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(F,{user:this.state.user}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h3",null,"Flight Search Results"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,"Origin",r.a.createElement("input",{ref:function(t){return e.origin=t}})),r.a.createElement("label",null,"Destination",r.a.createElement("input",{ref:function(t){return e.destination=t}})),r.a.createElement("input",{type:"submit",value:"Search"}),"//TODO make this search Flights"),r.a.createElement(N,{flights:this.state.flights}))}}]),t}(n.Component),N=function(e){function t(){return Object(o.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(D.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Flight"),r.a.createElement("th",null,"From > To"),r.a.createElement("th",null,"Plane"),r.a.createElement("th",null,"Seats"))),r.a.createElement("tbody",null,this.props.flights.map(function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.date),r.a.createElement("td",null,r.a.createElement(s.b,{to:"/".concat(e.props.user,"/Flight/").concat(t.flight_number)},t.flight_number)),r.a.createElement("td",null,t.origin," > ",t.destination),r.a.createElement("td",null,t.plane_model),r.a.createElement("td",null,t.rows*t.columns))})))}}]),t}(n.Component),R=A,P=a(11),B=a(39),T=a.n(B),q=a(38),G=a.n(q),M=a(32),I=a.n(M),L=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).state={rows:1,columns:1,user:a.props.match.params.user,admin:!1},a.updateRows=a.updateRows.bind(Object(P.a)(a)),a.updateColumns=a.updateColumns.bind(Object(P.a)(a)),a.isAdmin=a.isAdmin.bind(Object(P.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"isAdmin",value:function(e){e&&this.setState({admin:!0})}},{key:"updateRows",value:function(e){this.setState({rows:e})}},{key:"updateColumns",value:function(e){this.setState({columns:e})}},{key:"render",value:function(){return this.state.admin?r.a.createElement("div",null,r.a.createElement(F,{user:this.state.user,checkAdmin:this.isAdmin}),r.a.createElement("br",null),r.a.createElement(z,{onRowChange:this.updateRows,onColumnChange:this.updateColumns}),r.a.createElement("h3",null),r.a.createElement(H,{rows:this.state.rows,columns:this.state.columns})):r.a.createElement("div",null,r.a.createElement(F,{user:this.state.user,checkAdmin:this.isAdmin}),r.a.createElement("br",null),r.a.createElement("h3",null,"You are not an admit. You can't make a plane."))}}]),t}(n.Component),z=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(h.a)(this,Object(m.a)(t).call(this))).state={plane_model:"",rows:1,columns:1},e._handleSubmit=e._handleSubmit.bind(Object(P.a)(e)),e._handleModel=e._handleModel.bind(Object(P.a)(e)),e._handleRow=e._handleRow.bind(Object(P.a)(e)),e._handleColumn=e._handleColumn.bind(Object(P.a)(e)),e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"_handleSubmit",value:function(e){e.preventDefault();var t={plane_model:this.state.plane_model,rows:this.state.rows,columns:this.state.columns};v.a.post("https://dougmaxi-airlines.herokuapp.com/airplanes.json",t),this.setState({plane_model:"",rows:1,columns:1}),this.props.onRowChange(1),this.props.onColumnChange(1)}},{key:"_handleRow",value:function(e){this.setState({rows:e.target.value}),this.props.onRowChange(e.target.value)}},{key:"_handleColumn",value:function(e){this.setState({columns:e.target.value}),this.props.onColumnChange(e.target.value)}},{key:"_handleModel",value:function(e){this.setState({plane_model:e.target.value})}},{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this._handleSubmit},r.a.createElement("label",null,"Plane Model"),r.a.createElement("input",{type:"text",onChange:this._handleModel,value:this.state.plane_model,required:!0}),r.a.createElement("label",null,"Rows"),r.a.createElement("input",{type:"number",min:"1",onChange:this._handleRow,value:this.state.rows,required:!0}),r.a.createElement("label",null,"Columns"),r.a.createElement("input",{type:"number",min:"1",max:"8",onChange:this._handleColumn,value:this.state.columns,required:!0}),r.a.createElement("input",{type:"submit",value:"Create"}))}}]),t}(n.Component),H=function(e){function t(){return Object(o.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"createGrid",value:function(){for(var e=[],t=["A","B","C","D","E","F","G","H"],a=0;a<this.props.columns;a++){for(var n=[],l=1;l<=this.props.rows;l++)l<14?n.push(r.a.createElement(I.a,{className:"chair"},t[a]," ",l)):l==this.props.rows?n.push(r.a.createElement(I.a,{className:"chair"},t[a]," ",l)):14===l&&n.push(r.a.createElement(I.a,{className:"chair"},t[a]," ..."));e.push(r.a.createElement(G.a,null,n))}return e}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(T.a,null,this.createGrid()))}}]),t}(n.Component),J=L,U="https://dougmaxi-airlines.herokuapp.com/flights.json",W="https://dougmaxi-airlines.herokuapp.com/airplanes.json",Y=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).state={flights:[],planes:[],user:a.props.match.params.user};return v.a.get(W).then(function(e){a.setState({planes:e.data})}),function e(){v.a.get(U).then(function(t){a.setState({flights:t.data}),setTimeout(e,4e3)})}(),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(F,{user:this.state.user}),r.a.createElement("br",null),r.a.createElement($,{planes:this.state.planes}),r.a.createElement("br",null),r.a.createElement("h3",null,"Flights"),r.a.createElement(K,{flights:this.state.flights,user:this.state.user}))}}]),t}(n.Component),$=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).state={flight_number:"",origin:"",destination:"",date:Date.now,airplane_id:0},a._handleSubmit=a._handleSubmit.bind(Object(P.a)(a)),a._handleFlightNumber=a._handleFlightNumber.bind(Object(P.a)(a)),a._handleDate=a._handleDate.bind(Object(P.a)(a)),a._handleFrom=a._handleFrom.bind(Object(P.a)(a)),a._handleTo=a._handleTo.bind(Object(P.a)(a)),a._handlePlane=a._handlePlane.bind(Object(P.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"_handleSubmit",value:function(e){if(e.preventDefault(),"0"!==this.state.airplane_id){var t={flight_number:this.state.flight_number,origin:this.state.origin,destination:this.state.destination,date:this.state.date,airplane_id:this.state.airplane_id};v.a.post(U,t),this.setState({flight_number:"",origin:"",destination:"",date:Date.now,airplane_id:0})}}},{key:"_handleFlightNumber",value:function(e){this.setState({flight_number:e.target.value})}},{key:"_handleDate",value:function(e){this.setState({date:e.target.value})}},{key:"_handleFrom",value:function(e){this.setState({origin:e.target.value})}},{key:"_handleTo",value:function(e){this.setState({destination:e.target.value})}},{key:"_handlePlane",value:function(e){this.setState({airplane_id:e.target.value})}},{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this._handleSubmit},r.a.createElement("label",null,"Flight Number"),r.a.createElement("input",{type:"text",onChange:this._handleFlightNumber,value:this.state.flight_number,required:!0}),r.a.createElement("label",null,"Date"),r.a.createElement("input",{type:"date",onChange:this._handleDate,value:this.state.date,required:!0}),r.a.createElement("label",null,"Origin"),r.a.createElement("input",{type:"text",onChange:this._handleFrom,value:this.state.origin,required:!0}),r.a.createElement("label",null,"Destination"),r.a.createElement("input",{type:"text",onChange:this._handleTo,value:this.state.destination,required:!0}),r.a.createElement("label",null,"Plane"),r.a.createElement("select",{onChange:this._handlePlane,value:this.state.plane_model,required:!0},r.a.createElement("option",{key:"0",value:"0"},"Please Select a Plane "),this.props.planes.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.plane_model)})),r.a.createElement("input",{type:"submit",value:"Create"}))}}]),t}(n.Component),K=function(e){function t(){return Object(o.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(D.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Flight"),r.a.createElement("th",null,"From > To"),r.a.createElement("th",null,"Plane"),r.a.createElement("th",null,"Seats"))),r.a.createElement("tbody",null,this.props.flights.map(function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.date),r.a.createElement("td",null,r.a.createElement(s.b,{to:"/".concat(e.props.user,"/Flight/").concat(t.flight_number)},t.flight_number)),r.a.createElement("td",null,t.origin," > ",t.destination),r.a.createElement("td",null,t.plane_model),r.a.createElement("td",null,t.rows*t.columns))})))}}]),t}(n.Component),Q=Y,V=a(25),X=a.n(V),Z="https://dougmaxi-airlines.herokuapp.com/flights.json",ee="https://dougmaxi-airlines.herokuapp.com/users.json",te=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).state={user:a.props.match.params.user,flight:{},flight_number:a.props.match.params.flight},v.a.get(Z).then(function(e){e.data.forEach(function(e){e.flight_number==a.state.flight_number&&a.setState({flight:e})})}),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(F,{user:this.state.user}),r.a.createElement("br",null),r.a.createElement("h3",null,this.state.flight_number),"//TODO pretty up",r.a.createElement("h5",null,this.state.flight.date," \\o.o/ ",this.state.flight.origin," > ",this.state.flight.destination," \\o.o/ ",this.state.flight.plane_model),r.a.createElement(ae,{user:this.state.user,rows:this.state.flight.rows,flightid:this.state.flight.id,columns:this.state.flight.columns,res:this.state.flight.reservation}))}}]),t}(n.Component),ae=function(e){function t(e){var a;return Object(o.a)(this,t),a=Object(h.a)(this,Object(m.a)(t).call(this,e)),console.log(a.props.res),a.state={reservations:[],user_id:-1},v.a.get(ee).then(function(e){e.data.some(function(e){return e.name===a.props.user&&(a.setState({user_id:e.id}),!0)})}),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"createGrid",value:function(){for(var e=this,t=[],a=function(a){for(var n=[],l=function(t){var l=!1;e.props.res.some(function(i){return i.row===a&&i.column===t+1&&(n.push(r.a.createElement(ne,{flightid:e.props.flightid,user:e.props.user,key:t,row:a,column:t+1,owner:i.name,userid:e.state.user_id,deleteid:i.id})),l=!0,!0)}),l||n.push(r.a.createElement(ne,{flightid:e.props.flightid,user:e.props.user,key:t,row:a,column:t+1,owner:"null",userid:e.state.user_id,deleteid:"-1"}))},i=0;i<e.props.columns;i++)l(i);t.push(r.a.createElement(G.a,{key:a},n))},n=1;n<=this.props.rows;n++)a(n);return t}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(T.a,null,this.createGrid()))}}]),t}(n.Component),ne=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).state={owner:a.props.owner,row:a.props.row,column:a.props.column,deleteid:a.props.deleteid},a._selectSeat=a._selectSeat.bind(Object(P.a)(a)),a._deselectSeat=a._deselectSeat.bind(Object(P.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"_selectSeat",value:function(){var e=this,t={row:this.state.row,column:this.state.column,user_id:this.props.userid,flight_id:this.props.flightid};v.a.post("https://dougmaxi-airlines.herokuapp.com/reservations.json",t).then(function(t){e.setState({owner:e.props.user,deleteid:t.data.id})})}},{key:"_deselectSeat",value:function(){var e=this;v.a.delete("https://dougmaxi-airlines.herokuapp.com/reservations/".concat(this.state.deleteid,".json")).then(function(t){console.log(t),e.setState({owner:"null",deleteid:-1})})}},{key:"getLetter",value:function(e){return["A","B","C","D","E","F","G","H"][e-1]}},{key:"buttonCheck",value:function(){return"null"===this.state.owner?r.a.createElement(X.a,{className:"chairButton",onClick:this._selectSeat,variant:"primary"},this.getLetter(this.state.column)," ",this.state.row):this.state.owner===this.props.user?r.a.createElement(X.a,{className:"chairButton",onClick:this._deselectSeat,variant:"success"},this.state.owner):r.a.createElement(X.a,{className:"chairButton",variant:"danger"},this.state.owner)}},{key:"render",value:function(){return r.a.createElement("div",null,this.buttonCheck())}}]),t}(n.Component),re=te,le=r.a.createElement(s.a,null,r.a.createElement("div",null,r.a.createElement(u.b,{exact:!0,path:"/",component:_}),r.a.createElement(u.d,null,r.a.createElement(u.b,{path:"/:user/Airplanes",component:J}),r.a.createElement(u.b,{path:"/:user/Flights",component:Q}),r.a.createElement(u.b,{path:"/:user/Flight/:flight",component:re}),r.a.createElement(u.b,{path:"/:user/Search",component:R}),r.a.createElement(u.a,{from:"/:user",to:"/:user/Search"}))));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(le,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},48:function(e,t,a){},75:function(e,t,a){e.exports=a(141)},80:function(e,t,a){}},[[75,1,2]]]);
//# sourceMappingURL=main.292deaae.chunk.js.map