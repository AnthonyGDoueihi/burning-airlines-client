(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{141:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(22),i=a.n(r),s=(a(33),a(80),a(29)),u=a(26),o=a(6),c=a(7),h=a(9),m=a(8),d=a(10),p=a(24),b=a.n(p),f=a(30),g=a.n(f),E=a(13),v=a.n(E),j="https://dougmaxi-airlines.herokuapp.com/users.json",O=function(e){function t(){var e;Object(o.a)(this,t),(e=Object(h.a)(this,Object(m.a)(t).call(this))).state={users:[]};return v.a.get(j).then(function(t){e.setState({users:t.data})}),e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement(b.a,{bg:"dark",variant:"dark"},l.a.createElement("h2",{href:"#"},"Login Page"),l.a.createElement(g.a,{title:"Change User",id:"collasible-nav-dropdown"},this.state.users.map(function(e){return l.a.createElement(g.a.Item,{href:"#/".concat(e.name),users:e.name},e.name," ")})))}}]),t}(n.Component),_=function(e){function t(){return Object(o.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"loginBackground"},l.a.createElement(O,null))}}]),t}(n.Component),k=a(4),y=a(28),w=a.n(y),C="https://dougmaxi-airlines.herokuapp.com/users.json",S=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).state={users:[]};return v.a.get(C).then(function(e){if(a.setState({users:e.data}),a.props.checkAdmin){var t=[];e.data.forEach(function(e){e.admin&&t.push(e.name)}),-1===t.indexOf(a.props.user)?a.props.checkAdmin(!1):a.props.checkAdmin(!0)}}),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement(b.a,{bg:"dark",variant:"dark"},l.a.createElement("h2",null,"Burning Airlines"),l.a.createElement(b.a,{className:"mr-auto"},l.a.createElement(w.a,{href:"#/".concat(this.props.user,"/Search")},"Search"),l.a.createElement(w.a,{href:"#/".concat(this.props.user,"/Airplanes")},"Airplanes"),l.a.createElement(w.a,{href:"#/".concat(this.props.user,"/Flights")},"Flights")),l.a.createElement("h3",{className:"username"},this.props.user),l.a.createElement(g.a,{title:"Change User",id:"collasible-nav-dropdown"},this.state.users.map(function(e){return l.a.createElement(g.a.Item,{key:e.id,href:"#/".concat(e.name),users:e.name},e.name," ")})))}}]),t}(n.Component),F=a(37),D=a.n(F),x=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=a.handleSubmit.bind(Object(k.a)(a)),a._handleOriginChange=a._handleOriginChange.bind(Object(k.a)(a)),a._handleDestinationChange=a._handleDestinationChange.bind(Object(k.a)(a)),a.state={user:a.props.match.params.user,origin:"",destination:"",flights:[]},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"fetchFlights",value:function(){var e=this;v.a.get("".concat("https://dougmaxi-airlines.herokuapp.com/flights.json","?origin=").concat(this.state.origin,"&destination=").concat(this.state.destination)).then(function(t){e.setState({flights:t.data}),console.log(t)})}},{key:"_handleOriginChange",value:function(e){this.setState({origin:e.target.value})}},{key:"_handleDestinationChange",value:function(e){this.setState({destination:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.fetchFlights()}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(S,{user:this.state.user}),l.a.createElement("br",null),l.a.createElement("h3",null,"Flight Search Results"),l.a.createElement("br",null),l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("label",null,"\xa0Origin:\xa0\xa0",l.a.createElement("input",{onInput:this._handleOriginChange})),l.a.createElement("label",null,"\xa0Destination:\xa0\xa0",l.a.createElement("input",{onInput:this._handleDestinationChange})),l.a.createElement("input",{type:"submit",value:"Search"})),l.a.createElement("br",null),l.a.createElement(A,{flights:this.state.flights}))}}]),t}(n.Component),A=function(e){function t(){return Object(o.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(D.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Date"),l.a.createElement("th",null,"Flight"),l.a.createElement("th",null,"From > To"),l.a.createElement("th",null,"Plane"),l.a.createElement("th",null,"Seats"))),l.a.createElement("tbody",null,this.props.flights.map(function(t){return l.a.createElement("tr",{key:t.id},l.a.createElement("td",null,t.date),l.a.createElement("td",null,l.a.createElement(s.b,{to:"/".concat(e.props.user,"/Flight/").concat(t.flight_number)},t.flight_number)),l.a.createElement("td",null,t.origin," > ",t.destination),l.a.createElement("td",null,t.plane_model),l.a.createElement("td",null,t.rows*t.columns))})))}}]),t}(n.Component),N=x,R=a(39),P=a.n(R),B=a(38),q=a.n(B),T=a(32),G=a.n(T),I=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).state={rows:1,columns:1,user:a.props.match.params.user,admin:!1},a.updateRows=a.updateRows.bind(Object(k.a)(a)),a.updateColumns=a.updateColumns.bind(Object(k.a)(a)),a.isAdmin=a.isAdmin.bind(Object(k.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"isAdmin",value:function(e){e&&this.setState({admin:!0})}},{key:"updateRows",value:function(e){this.setState({rows:e})}},{key:"updateColumns",value:function(e){this.setState({columns:e})}},{key:"render",value:function(){return this.state.admin?l.a.createElement("div",null,l.a.createElement(S,{user:this.state.user,checkAdmin:this.isAdmin}),l.a.createElement("br",null),l.a.createElement(M,{onRowChange:this.updateRows,onColumnChange:this.updateColumns}),l.a.createElement("h3",null),l.a.createElement(L,{rows:this.state.rows,columns:this.state.columns})):l.a.createElement("div",null,l.a.createElement(S,{user:this.state.user,checkAdmin:this.isAdmin}),l.a.createElement("br",null),l.a.createElement("h3",null,"You are not an admin. You can't make a plane."))}}]),t}(n.Component),M=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(h.a)(this,Object(m.a)(t).call(this))).state={plane_model:"",rows:1,columns:1},e._handleSubmit=e._handleSubmit.bind(Object(k.a)(e)),e._handleModel=e._handleModel.bind(Object(k.a)(e)),e._handleRow=e._handleRow.bind(Object(k.a)(e)),e._handleColumn=e._handleColumn.bind(Object(k.a)(e)),e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"_handleSubmit",value:function(e){e.preventDefault();var t={plane_model:this.state.plane_model,rows:this.state.rows,columns:this.state.columns};v.a.post("https://dougmaxi-airlines.herokuapp.com/airplanes.json",t),this.setState({plane_model:"",rows:1,columns:1}),this.props.onRowChange(1),this.props.onColumnChange(1)}},{key:"_handleRow",value:function(e){this.setState({rows:e.target.value}),this.props.onRowChange(e.target.value)}},{key:"_handleColumn",value:function(e){this.setState({columns:e.target.value}),this.props.onColumnChange(e.target.value)}},{key:"_handleModel",value:function(e){this.setState({plane_model:e.target.value})}},{key:"render",value:function(){return l.a.createElement("form",{onSubmit:this._handleSubmit},l.a.createElement("h3",null,"Add Plane To Database"),l.a.createElement("br",null),l.a.createElement("label",null,"\xa0Plane Model:\xa0\xa0"),l.a.createElement("input",{type:"text",onChange:this._handleModel,value:this.state.plane_model,required:!0}),l.a.createElement("label",null,"\xa0Rows:\xa0\xa0"),l.a.createElement("input",{type:"number",min:"1",onChange:this._handleRow,value:this.state.rows,required:!0}),l.a.createElement("label",null,"\xa0Columns:\xa0\xa0"),l.a.createElement("input",{type:"number",min:"1",max:"8",onChange:this._handleColumn,value:this.state.columns,required:!0}),l.a.createElement("input",{type:"submit",value:"Create"}))}}]),t}(n.Component),L=function(e){function t(){return Object(o.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"createGrid",value:function(){for(var e=[],t=["A","B","C","D","E","F","G","H"],a=0;a<this.props.columns;a++){for(var n=[],r=1;r<=this.props.rows;r++)r<14?n.push(l.a.createElement(G.a,{className:"chair"},t[a]," ",r)):r==this.props.rows?n.push(l.a.createElement(G.a,{className:"chair"},t[a]," ",r)):14===r&&n.push(l.a.createElement(G.a,{className:"chair"},t[a]," ..."));e.push(l.a.createElement(q.a,null,n))}return e}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement(P.a,null,this.createGrid()))}}]),t}(n.Component),z=I,H="https://dougmaxi-airlines.herokuapp.com/flights.json",J="https://dougmaxi-airlines.herokuapp.com/airplanes.json",U=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).state={flights:[],planes:[],user:a.props.match.params.user};return v.a.get(J).then(function(e){a.setState({planes:e.data})}),function e(){v.a.get(H).then(function(t){a.setState({flights:t.data}),setTimeout(e,4e3)})}(),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(S,{user:this.state.user}),l.a.createElement("br",null),l.a.createElement("h3",null,"Create Flights"),l.a.createElement("br",null),l.a.createElement(W,{planes:this.state.planes}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h3",null,"Flights"),l.a.createElement("br",null),l.a.createElement(Y,{flights:this.state.flights,user:this.state.user}))}}]),t}(n.Component),W=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).state={flight_number:"",origin:"",destination:"",date:Date.now,airplane_id:0},a._handleSubmit=a._handleSubmit.bind(Object(k.a)(a)),a._handleFlightNumber=a._handleFlightNumber.bind(Object(k.a)(a)),a._handleDate=a._handleDate.bind(Object(k.a)(a)),a._handleFrom=a._handleFrom.bind(Object(k.a)(a)),a._handleTo=a._handleTo.bind(Object(k.a)(a)),a._handlePlane=a._handlePlane.bind(Object(k.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"_handleSubmit",value:function(e){if(e.preventDefault(),"0"!==this.state.airplane_id){var t={flight_number:this.state.flight_number,origin:this.state.origin,destination:this.state.destination,date:this.state.date,airplane_id:this.state.airplane_id};v.a.post(H,t),this.setState({flight_number:"",origin:"",destination:"",date:Date.now,airplane_id:0})}}},{key:"_handleFlightNumber",value:function(e){this.setState({flight_number:e.target.value})}},{key:"_handleDate",value:function(e){this.setState({date:e.target.value})}},{key:"_handleFrom",value:function(e){this.setState({origin:e.target.value})}},{key:"_handleTo",value:function(e){this.setState({destination:e.target.value})}},{key:"_handlePlane",value:function(e){this.setState({airplane_id:e.target.value})}},{key:"render",value:function(){return l.a.createElement("form",{onSubmit:this._handleSubmit},l.a.createElement("label",null,"\xa0Flight Number:\xa0"),l.a.createElement("input",{type:"text",onChange:this._handleFlightNumber,value:this.state.flight_number,required:!0}),l.a.createElement("label",null,"\xa0Date:\xa0"),l.a.createElement("input",{type:"date",onChange:this._handleDate,value:this.state.date,required:!0}),l.a.createElement("label",null,"\xa0Origin:\xa0"),l.a.createElement("input",{type:"text",onChange:this._handleFrom,value:this.state.origin,required:!0}),l.a.createElement("label",null,"\xa0Destination:\xa0"),l.a.createElement("input",{type:"text",onChange:this._handleTo,value:this.state.destination,required:!0}),l.a.createElement("label",null,"\xa0Plane:\xa0"),l.a.createElement("select",{onChange:this._handlePlane,value:this.state.plane_model,required:!0},l.a.createElement("option",{key:"0",value:"0"},"Please Select a Plane "),this.props.planes.map(function(e){return l.a.createElement("option",{key:e.id,value:e.id},e.plane_model)})),l.a.createElement("input",{className:"submit",type:"submit",value:"Create"}))}}]),t}(n.Component),Y=function(e){function t(){return Object(o.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(D.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Date"),l.a.createElement("th",null,"Flight"),l.a.createElement("th",null,"From > To"),l.a.createElement("th",null,"Plane"),l.a.createElement("th",null,"Seats"))),l.a.createElement("tbody",null,this.props.flights.map(function(t){return l.a.createElement("tr",{key:t.id},l.a.createElement("td",null,t.date),l.a.createElement("td",null,l.a.createElement(s.b,{to:"/".concat(e.props.user,"/Flight/").concat(t.flight_number)},t.flight_number)),l.a.createElement("td",null,t.origin," > ",t.destination),l.a.createElement("td",null,t.plane_model),l.a.createElement("td",null,t.rows*t.columns))})))}}]),t}(n.Component),$=U,K=a(25),Q=a.n(K),V="https://dougmaxi-airlines.herokuapp.com/flights.json",X="https://dougmaxi-airlines.herokuapp.com/users.json",Z=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).state={user:a.props.match.params.user,flight:{},flight_number:a.props.match.params.flight},v.a.get(V).then(function(e){e.data.forEach(function(e){e.flight_number==a.state.flight_number&&a.setState({flight:e})})}),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(S,{user:this.state.user}),l.a.createElement("br",null),l.a.createElement("h3",null,this.state.flight_number),l.a.createElement("h5",null,this.state.flight.date," \\o.o/ ",this.state.flight.origin," > ",this.state.flight.destination," \\o.o/ ",this.state.flight.plane_model),l.a.createElement(ee,{user:this.state.user,rows:this.state.flight.rows,flightid:this.state.flight.id,columns:this.state.flight.columns,res:this.state.flight.reservation}))}}]),t}(n.Component),ee=function(e){function t(e){var a;return Object(o.a)(this,t),a=Object(h.a)(this,Object(m.a)(t).call(this,e)),console.log(a.props.res),a.state={reservations:[],user_id:-1},v.a.get(X).then(function(e){e.data.some(function(e){return e.name===a.props.user&&(a.setState({user_id:e.id}),!0)})}),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"createGrid",value:function(){for(var e=this,t=[],a=function(a){for(var n=[],r=function(t){var r=!1;e.props.res.some(function(i){return i.row===a&&i.column===t+1&&(n.push(l.a.createElement(te,{flightid:e.props.flightid,user:e.props.user,key:t,row:a,column:t+1,owner:i.name,userid:e.state.user_id,deleteid:i.id})),r=!0,!0)}),r||n.push(l.a.createElement(te,{flightid:e.props.flightid,user:e.props.user,key:t,row:a,column:t+1,owner:"null",userid:e.state.user_id,deleteid:"-1"}))},i=0;i<e.props.columns;i++)r(i);t.push(l.a.createElement(q.a,{key:a},n))},n=1;n<=this.props.rows;n++)a(n);return t}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(P.a,null,this.createGrid()))}}]),t}(n.Component),te=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).state={owner:a.props.owner,row:a.props.row,column:a.props.column,deleteid:a.props.deleteid},a._selectSeat=a._selectSeat.bind(Object(k.a)(a)),a._deselectSeat=a._deselectSeat.bind(Object(k.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"_selectSeat",value:function(){var e=this,t={row:this.state.row,column:this.state.column,user_id:this.props.userid,flight_id:this.props.flightid};v.a.post("https://dougmaxi-airlines.herokuapp.com/reservations.json",t).then(function(t){e.setState({owner:e.props.user,deleteid:t.data.id})})}},{key:"_deselectSeat",value:function(){var e=this;v.a.delete("https://dougmaxi-airlines.herokuapp.com/reservations/".concat(this.state.deleteid,".json")).then(function(t){console.log(t),e.setState({owner:"null",deleteid:-1})})}},{key:"getLetter",value:function(e){return["A","B","C","D","E","F","G","H"][e-1]}},{key:"buttonCheck",value:function(){return"null"===this.state.owner?l.a.createElement(Q.a,{className:"chairButton",onClick:this._selectSeat,variant:"primary"},this.getLetter(this.state.column)," ",this.state.row):this.state.owner===this.props.user?l.a.createElement(Q.a,{className:"chairButton",onClick:this._deselectSeat,variant:"success"},this.state.owner):l.a.createElement(Q.a,{className:"chairButton",variant:"danger"},this.state.owner)}},{key:"render",value:function(){return l.a.createElement("div",null,this.buttonCheck())}}]),t}(n.Component),ae=Z,ne=l.a.createElement(s.a,null,l.a.createElement("div",null,l.a.createElement(u.b,{exact:!0,path:"/",component:_}),l.a.createElement(u.d,null,l.a.createElement(u.b,{path:"/:user/Airplanes",component:z}),l.a.createElement(u.b,{path:"/:user/Flights",component:$}),l.a.createElement(u.b,{path:"/:user/Flight/:flight",component:ae}),l.a.createElement(u.b,{path:"/:user/Search",component:N}),l.a.createElement(u.a,{from:"/:user",to:"/:user/Search"}))));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(ne,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},33:function(e,t,a){},75:function(e,t,a){e.exports=a(141)},80:function(e,t,a){}},[[75,1,2]]]);
//# sourceMappingURL=main.c2d44560.chunk.js.map